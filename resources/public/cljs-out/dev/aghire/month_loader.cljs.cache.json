["^ ","~:rename-macros",["^ "],"~:renames",["^ "],"~:externs",["^ ","~$gMonthlies",["^ "],"~$Exception",["^ "],"~$initialSearchMoIdx",["^ "],"~$setTimeout",["^ "]],"~:use-macros",["^ "],"~:excludes",["~#set",[]],"~:name","~$aghire.month-loader","~:imports",null,"~:requires",["^ ","~$reagent.core","^>","~$r","^>","~$walk","~$clojure.walk","~$aghire.utility","^A","~$db","~$aghire.db","~$pp","~$cljs.pprint","~$utl","^A","^E","^E","~$aghire.job-parse","^G","~$parse","^G","^@","^@","^C","^C"],"~:cljs.spec/speced-vars",[],"~:uses",["^ ","~$app-cursor","^A"],"~:defs",["^ ","~$month-load-fini",["^ ","~:protocol-inline",null,"~:meta",["^ ","~:file","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","~:line",68,"~:column",7,"~:end-line",68,"~:end-column",22,"~:arglists",["~#list",["~$quote",["^V",[[]]]]]],"^:","~$aghire.month-loader/month-load-fini","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",22,"~:method-params",["^V",[[]]],"~:protocol-impl",null,"~:arglists-meta",["^V",[null,null]],"^R",1,"~:variadic?",false,"^Q",68,"~:ret-tag","~$boolean","^S",68,"~:max-fixed-arity",0,"~:fn-var",true,"^U",["^V",["^W",["^V",[[]]]]]],"~$ATHING_CHUNK_SZ",["^ ","^:","~$aghire.month-loader/ATHING_CHUNK_SZ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",149,"^R",1,"^S",149,"^T",21,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",149,"^R",6,"^S",149,"^T",21],"~:tag","~$number"],"~$month-id",["^ ","^:","~$aghire.month-loader/month-id","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",65,"^R",1,"^S",65,"^T",14,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",65,"^R",6,"^S",65,"^T",14],"^17","~$reagent.ratom/RCursor"],"~$unprocessed-month",["^ ","^N",null,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",40,"^R",7,"^S",40,"^T",24,"^U",["^V",["^W",["^V",[["~$month-hn-id"]]]]],"~:doc","This is the starting point of the state we will use to track a multi-page\n  month load across two phases. Me start with this map and\n  then assoc/update away at it for the life of the load.\n\n  This, btw, is what we fell back on after internalizing that\n  subscriptions are meant only for views and other subscriptions.\n\n  What we will do during :cull-athings is 'consume' the list\n  of page URLS like a work queue. That could easily be implemented\n  instead by having a 'current-page-url-index' climbing from zero."],"^:","~$aghire.month-loader/unprocessed-month","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",24,"^Y",["^V",[["^1="]]],"^Z",null,"^[",["^V",[null,null]],"^R",1,"^10",false,"^Q",40,"^11","~$cljs.core/IMap","^S",40,"^13",1,"^14",true,"^U",["^V",["^W",["^V",[["^1="]]]]],"^1>","This is the starting point of the state we will use to track a multi-page\n  month load across two phases. Me start with this map and\n  then assoc/update away at it for the life of the load.\n\n  This, btw, is what we fell back on after internalizing that\n  subscriptions are meant only for views and other subscriptions.\n\n  What we will do during :cull-athings is 'consume' the list\n  of page URLS like a work queue. That could easily be implemented\n  instead by having a 'current-page-url-index' climbing from zero."],"~$mk-page-loader",["^ ","^N",null,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",135,"^R",7,"^S",135,"^T",21,"^U",["^V",["^W",["^V",[[]]]]]],"^:","~$aghire.month-loader/mk-page-loader","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",21,"^Y",["^V",[[]]],"^Z",null,"^[",["^V",[null,null]],"^R",1,"^10",false,"^Q",135,"^11","~$function","^S",135,"^13",0,"^14",true,"^U",["^V",["^W",["^V",[[]]]]]],"~$athings-to-jobs",["^ ","^:","~$aghire.month-loader/athings-to-jobs","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",172,"^R",1,"^S",172,"^T",25,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",172,"^R",10,"^S",172,"^T",25],"^17","~$any"],"~$ATHING-PARSE-MAX",["^ ","^:","~$aghire.month-loader/ATHING-PARSE-MAX","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",121,"^R",1,"^S",121,"^T",22,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",121,"^R",6,"^S",121,"^T",22],"^17","^18"],"~$cull-jobs-from-athings",["^ ","^N",null,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",151,"^R",7,"^S",151,"^T",29,"^U",["^V",["^W",["^V",[[]]]]]],"^:","~$aghire.month-loader/cull-jobs-from-athings","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",29,"^Y",["^V",[[]]],"^Z",null,"^[",["^V",[null,null]],"^R",1,"^10",false,"^Q",151,"^11",["^9",[null,"^1F","~$js","~$clj-nil"]],"^S",151,"^13",0,"^14",true,"^U",["^V",["^W",["^V",[[]]]]]],"~$month-phase",["^ ","^:","~$aghire.month-loader/month-phase","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",66,"^R",1,"^S",66,"^T",17,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",66,"^R",6,"^S",66,"^T",17],"^17","^1;"],"~$month-jobs",["^ ","^:","~$aghire.month-loader/month-jobs","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",67,"^R",1,"^S",67,"^T",16,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",67,"^R",6,"^S",67,"^T",16],"^17","^1;"],"~$month-progress-compute",["^ ","^N",null,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",71,"^R",7,"^S",71,"^T",29,"^U",["^V",["^W",["^V",[[]]]]]],"^:","~$aghire.month-loader/month-progress-compute","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",29,"^Y",["^V",[[]]],"^Z",null,"^[",["^V",[null,null]],"^R",1,"^10",false,"^Q",71,"^11",["^9",[null,"~$clj","^1F"]],"^S",71,"^13",0,"^14",true,"^U",["^V",["^W",["^V",[[]]]]]],"~$app-month-startup",["^ ","^N",null,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",90,"^R",7,"^S",90,"^T",24,"^U",["^V",["^W",["^V",[[]]]]]],"^:","~$aghire.month-loader/app-month-startup","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",24,"^Y",["^V",[[]]],"^Z",null,"^[",["^V",[null,null]],"^R",1,"^10",false,"^Q",90,"^11",["^9",[null,"^1F"]],"^S",90,"^13",0,"^14",true,"^U",["^V",["^W",["^V",[[]]]]]],"~$month-page-urls",["^ ","^N",null,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",25,"^R",7,"^S",25,"^T",22,"^U",["^V",["^W",["^V",[["^1="]]]]],"^1>","Compute a vector of string URLs to be scraped, given month info\n  hard-coded in index.html. Look for a script tag defining gMonthlies."],"^:","~$aghire.month-loader/month-page-urls","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",22,"^Y",["^V",[["^1="]]],"^Z",null,"^[",["^V",[null,null]],"^R",1,"^10",false,"^Q",25,"^11",["^9",["~$cljs.core/LazySeq","^1L"]],"^S",25,"^13",1,"^14",true,"^U",["^V",["^W",["^V",[["^1="]]]]],"^1>","Compute a vector of string URLs to be scraped, given month info\n  hard-coded in index.html. Look for a script tag defining gMonthlies."],"~$job-page-athings",["^ ","^N",null,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",123,"^R",7,"^S",123,"^T",23,"^U",["^V",["^W",["^V",[["~$ifr-dom"]]]]],"^1>","Pretty simple. All messages are dom nodes with class aThing. Grab those\n  and later we will check the opening text vertical bars | to identify jobs.\n  Counting vertical bars to identify a job? Don't judge me."],"^:","~$aghire.month-loader/job-page-athings","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",23,"^Y",["^V",[["^1Z"]]],"^Z",null,"^[",["^V",[null,null]],"^R",1,"^10",false,"^Q",123,"^11",["^9",["^1X","^1L"]],"^S",123,"^13",1,"^14",true,"^U",["^V",["^W",["^V",[["^1Z"]]]]],"^1>","Pretty simple. All messages are dom nodes with class aThing. Grab those\n  and later we will check the opening text vertical bars | to identify jobs.\n  Counting vertical bars to identify a job? Don't judge me."],"~$month-load",["^ ","^:","~$aghire.month-loader/month-load","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",63,"^R",1,"^S",63,"^T",16,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",63,"^R",6,"^S",63,"^T",16],"^17","^1;"],"~$job-listing-loader",["^ ","^N",null,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",97,"^R",7,"^S",97,"^T",25,"^U",["^V",["^W",["^V",[[]]]]],"^1>","This is a key player in loading a month. It spawns one\n  child loader whenever there is a URL to be scraped. We\n  then grab candidate nodes (class 'aThing') for later\n  processing.\n\n  Sadly, iframes offer no way to tell if the URL does not\n  load, so this app hangs if a month is configured for more\n  files than are in resources/public/scrapes/<month>. Only\n  fix is a timeout that would abort after N seconds.\n\n  Left as an exercise."],"^:","~$aghire.month-loader/job-listing-loader","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",25,"^Y",["^V",[[]]],"^Z",null,"^[",["^V",[null,null]],"^R",1,"^10",false,"^Q",97,"^11","^1C","^S",97,"^13",0,"^14",true,"^U",["^V",["^W",["^V",[[]]]]],"^1>","This is a key player in loading a month. It spawns one\n  child loader whenever there is a URL to be scraped. We\n  then grab candidate nodes (class 'aThing') for later\n  processing.\n\n  Sadly, iframes offer no way to tell if the URL does not\n  load, so this app hangs if a month is configured for more\n  files than are in resources/public/scrapes/<month>. Only\n  fix is a timeout that would abort after N seconds.\n\n  Left as an exercise."],"~$month-progress",["^ ","^:","~$aghire.month-loader/month-progress","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",83,"^R",1,"^S",83,"^T",20,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",83,"^R",6,"^S",83,"^T",20],"^17","~$reagent.ratom/Track"],"~$month-load-initialize",["^ ","^N",null,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",85,"^R",7,"^S",85,"^T",28,"^U",["^V",["^W",["^V",[["^1="]]]]]],"^:","~$aghire.month-loader/month-load-initialize","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",28,"^Y",["^V",[["^1="]]],"^Z",null,"^[",["^V",[null,null]],"^R",1,"^10",false,"^Q",85,"^11",["^9",[null,"^1F"]],"^S",85,"^13",1,"^14",true,"^U",["^V",["^W",["^V",[["^1="]]]]]],"~$public-res",["^ ","^:","~$aghire.month-loader/public-res","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",23,"^R",1,"^S",23,"^T",16,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",23,"^R",6,"^S",23,"^T",16],"^17","~$string"],"~$gMonthlies-cljs",["^ ","^N",null,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",9,"^R",7,"^S",9,"^T",22,"^U",["^V",["^W",["^V",[[]]]]],"^1>","The gMonthlies table of contents is defined in index.html for extensibility,\n  then translated here to CLJS-ese, except hnId: remains camel-case :hnId."],"^:","~$aghire.month-loader/gMonthlies-cljs","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",22,"^Y",["^V",[[]]],"^Z",null,"^[",["^V",[null,null]],"^R",1,"^10",false,"^Q",9,"^11","^1F","^S",9,"^13",0,"^14",true,"^U",["^V",["^W",["^V",[[]]]]],"^1>","The gMonthlies table of contents is defined in index.html for extensibility,\n  then translated here to CLJS-ese, except hnId: remains camel-case :hnId."],"~$get-monthly-def",["^ ","^N",null,"^O",["^ ","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^Q",15,"^R",7,"^S",15,"^T",22,"^U",["^V",["^W",["^V",[["~$hn-id"]]]]],"^1>","Retrieve month info based on HN message Id"],"^:","~$aghire.month-loader/get-monthly-def","^P","/Users/kennethtilton/hiringagent/src/aghire/month_loader.cljs","^T",22,"^Y",["^V",[["^2?"]]],"^Z",null,"^[",["^V",[null,null]],"^R",1,"^10",false,"^Q",15,"^11",["^9",["^1F","^1L"]],"^S",15,"^13",1,"^14",true,"^U",["^V",["^W",["^V",[["^2?"]]]]],"^1>","Retrieve month info based on HN message Id"]],"~:cljs.spec/registry-ref",[],"~:require-macros",["^ ","^D","^E","^E","^E","~$r","^>","^>","^>"],"~:cljs.analyzer/constants",["^ ","~:seen",["^9",["~:inactive","~:page-urls-remaining","~:pgCount","~:OK","~:athing-parse-ct","~:cull-athings","~:iframe","~:on-load","~:month-hn-id","~:phase","~:src","~:page-url-count","~:athing-parse-count","~:jobs","~:style","~:div","~:athings","~:jobs-seen","~:month-load","~:parse-jobs","~:hnId","~:display","~:hn-id","~:fini"]],"~:order",["^2Y","^2G","^2M","^2N","^2P","^2F","^2V","^2U","^2Q","^2R","^2J","^2W","^30","^2I","^2E","^2T","^2S","^2Z","^2K","^2O","^2L","^2X","^2H","^2["]],"^1>",null]